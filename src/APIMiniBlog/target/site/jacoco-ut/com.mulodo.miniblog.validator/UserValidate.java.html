<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>UserValidate.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">APIMiniBlog</a> &gt; <a href="index.source.html" class="el_package">com.mulodo.miniblog.validator</a> &gt; <span class="el_source">UserValidate.java</span></div><h1>UserValidate.java</h1><pre class="source lang-java linenums">/* 
 * UserValidate.java 
 *  
 * 1.0
 * 
 * 2015/02/02
 *  
 * Copyright (c) 2015 Le U Uay
 * 
 */
package com.mulodo.miniblog.validator;

import java.util.ArrayList;
import java.util.List;

import com.mulodo.miniblog.contraints.Constraints;
import com.mulodo.miniblog.object.Message;
import com.mulodo.miniblog.object.Meta;
import com.mulodo.miniblog.utils.ValidatorUtils;

/**
 * The UserValidate use to validate user data
 * 
 * @author UayLU
 * 
 */
<span class="nc" id="L27">public class UserValidate {</span>

	/**
	 *  validate_add_new use for validate add new data user
	 *	
	 *	@param	username : username of user
	 *  @param  firstname : firstname of user
	 *  @param  lastname : lastname of user
	 *  @param  password : password of user
	 *  @param  email : email of user
	 *	
	 *  @return Meta
	 *	
	 */
	public static Meta validateAddNew(String username, String firstname, String lastname, 
			String password, String email) {
		
		//List message contain error message validate
<span class="fc" id="L45">		List&lt;Message&gt; listMessage = new ArrayList&lt;Message&gt;();</span>
<span class="fc" id="L46">		Boolean isValid = true;</span>
		//check null empty or white space if string
<span class="fc" id="L48">		isValid = ValidatorUtils.isNotNullNotEmptyNotWhiteSpace(username);</span>
<span class="fc bfc" id="L49" title="All 2 branches covered.">		if(!isValid){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L51">			listMessage.add(new Message(Constraints.CODE_2001));</span>
		}
<span class="fc bfc" id="L53" title="All 2 branches covered.">		if(isValid){</span>
			//check valid length of string
<span class="fc" id="L55">			isValid = ValidatorUtils.isValidLength(username, Constraints.MIN_USERNAME, Constraints.MAX_USERNAME);</span>
<span class="fc bfc" id="L56" title="All 2 branches covered.">			if(!isValid){</span>
				//check if have error, add message error to listmessage
<span class="fc" id="L58">				listMessage.add(new Message(Constraints.CODE_2011));</span>
			}
		}
		
		//check null empty or white space if string
<span class="fc" id="L63">		isValid = ValidatorUtils.isNotNullNotEmptyNotWhiteSpace(password);</span>
<span class="fc bfc" id="L64" title="All 2 branches covered.">		if(!isValid){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L66">			listMessage.add(new Message(Constraints.CODE_2002));</span>
		}
<span class="fc bfc" id="L68" title="All 2 branches covered.">		if(isValid){</span>
			//check valid length of string
<span class="fc" id="L70">			isValid = ValidatorUtils.isValidLength(password, Constraints.MIN_PASSWORD, 0);</span>
<span class="fc bfc" id="L71" title="All 2 branches covered.">			if(!isValid){</span>
				//check if have error, add message error to listmessage
<span class="fc" id="L73">				listMessage.add(new Message(Constraints.CODE_2012));</span>
			}
		}
		
		//check null empty or white space if string
<span class="fc" id="L78">		isValid = ValidatorUtils.isNotNullNotEmptyNotWhiteSpace(lastname);</span>
<span class="fc bfc" id="L79" title="All 2 branches covered.">		if(!isValid){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L81">			listMessage.add(new Message(Constraints.CODE_2003));</span>
<span class="fc" id="L82">		}else{</span>
			//check valid length of string
<span class="fc" id="L84">			isValid = ValidatorUtils.isValidLength(lastname, 1, 45);</span>
<span class="fc bfc" id="L85" title="All 2 branches covered.">			if(!isValid){</span>
				//check if have error, add message error to listmessage
<span class="fc" id="L87">				listMessage.add(new Message(Constraints.CODE_2003));</span>
			}
		}
		
		//check null empty or white space if string
<span class="fc" id="L92">		isValid = ValidatorUtils.isNotNullNotEmptyNotWhiteSpace(firstname);</span>
<span class="pc bpc" id="L93" title="1 of 2 branches missed.">		if(!isValid){</span>
			//check if have error, add message error to listmessage
<span class="nc" id="L95">			listMessage.add(new Message(Constraints.CODE_2004));</span>
<span class="nc" id="L96">		}else{</span>
			//check valid length of string
<span class="fc" id="L98">			isValid = ValidatorUtils.isValidLength(firstname, 1, 45);</span>
<span class="fc bfc" id="L99" title="All 2 branches covered.">			if(!isValid){</span>
				//check if have error, add message error to listmessage
<span class="fc" id="L101">				listMessage.add(new Message(Constraints.CODE_2004));</span>
			}
		}
		
<span class="fc" id="L105">		isValid = ValidatorUtils.isValidEmail(email);</span>
<span class="fc bfc" id="L106" title="All 2 branches covered.">		if(!isValid){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L108">			listMessage.add(new Message(Constraints.CODE_2005));</span>
<span class="fc" id="L109">		}else{</span>
			//check valid length of string
<span class="fc" id="L111">			isValid = ValidatorUtils.isValidLength(email, 1, 100);</span>
<span class="pc bpc" id="L112" title="1 of 2 branches missed.">			if(!isValid){</span>
				//check if have error, add message error to listmessage
<span class="nc" id="L114">				listMessage.add(new Message(Constraints.CODE_2005));</span>
			}
		}
		
				
<span class="fc bfc" id="L119" title="All 2 branches covered.">		if(!listMessage.isEmpty() ){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L121">			Meta meta = new Meta(Constraints.CODE_2000, listMessage);</span>
<span class="fc" id="L122">			return meta;</span>
		}
<span class="fc" id="L124">		return null;</span>
	}
	
	/**
	 *  validate_update use for validate update data user
	 *	
	 *  @param  firstname : firstname of user
	 *  @param  lastname : lastname of user
	 *  @param  email : email of user
	 *	
	 *  @return Meta
	 *	
	 */
	public static Meta validateUpdate(String firstname, String lastname, 
					String email, String status, String password) {
		
		//List message contain error message validate
<span class="fc" id="L141">		List&lt;Message&gt; listMessage = new ArrayList&lt;Message&gt;();</span>
<span class="fc" id="L142">		Boolean isValid = true;</span>
		//check null empty or white space if string
<span class="fc" id="L144">		isValid = ValidatorUtils.isNotNullNotEmptyNotWhiteSpace(lastname);</span>
<span class="fc bfc" id="L145" title="All 2 branches covered.">		if(!isValid){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L147">			listMessage.add(new Message(Constraints.CODE_2003));</span>
<span class="fc" id="L148">		} else{</span>
			//check valid length of string
<span class="fc" id="L150">			isValid = ValidatorUtils.isValidLength(lastname, 1, 45);</span>
<span class="fc bfc" id="L151" title="All 2 branches covered.">			if(!isValid){</span>
				//check if have error, add message error to listmessage
<span class="fc" id="L153">				listMessage.add(new Message(Constraints.CODE_2003));</span>
			}
		}
		
		//check null empty or white space if string
<span class="fc" id="L158">		isValid = ValidatorUtils.isNotNullNotEmptyNotWhiteSpace(firstname);</span>
<span class="fc bfc" id="L159" title="All 2 branches covered.">		if(!isValid){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L161">			listMessage.add(new Message(Constraints.CODE_2004));</span>
<span class="fc" id="L162">		}else{</span>
			//check valid length of string
<span class="fc" id="L164">			isValid = ValidatorUtils.isValidLength(firstname, 1, 45);</span>
<span class="fc bfc" id="L165" title="All 2 branches covered.">			if(!isValid){</span>
				//check if have error, add message error to listmessage
<span class="fc" id="L167">				listMessage.add(new Message(Constraints.CODE_2004));</span>
			}
		}
		
<span class="pc bpc" id="L171" title="1 of 2 branches missed.">		if(email != null){</span>
<span class="fc" id="L172">			isValid = ValidatorUtils.isValidEmail(email);</span>
<span class="fc bfc" id="L173" title="All 2 branches covered.">			if(!isValid){</span>
				//check if have error, add message error to listmessage
<span class="fc" id="L175">				listMessage.add(new Message(Constraints.CODE_2005));</span>
			}
		}
		
		//check null empty or white space if string
<span class="fc" id="L180">		isValid = ValidatorUtils.isNotNullNotEmptyNotWhiteSpace(password);</span>
<span class="fc bfc" id="L181" title="All 2 branches covered.">		if(!isValid){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L183">			listMessage.add(new Message(Constraints.CODE_2002));</span>
		}
<span class="fc bfc" id="L185" title="All 2 branches covered.">		if(isValid){</span>
			//check valid length of string
<span class="fc" id="L187">			isValid = ValidatorUtils.isValidLength(password, Constraints.MIN_PASSWORD, 0);</span>
<span class="fc bfc" id="L188" title="All 2 branches covered.">			if(!isValid){</span>
				//check if have error, add message error to listmessage
<span class="fc" id="L190">				listMessage.add(new Message(Constraints.CODE_2012));</span>
			}
		}
		
<span class="fc" id="L194">		isValid = ValidatorUtils.isStatusInteger(status);</span>
<span class="fc bfc" id="L195" title="All 2 branches covered.">		if(!isValid){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L197">			listMessage.add(new Message(Constraints.CODE_2015));</span>
		}
		
<span class="fc bfc" id="L200" title="All 2 branches covered.">		if(!listMessage.isEmpty() ){</span>
<span class="fc" id="L201">			Meta meta = new Meta(Constraints.CODE_2000, listMessage);</span>
<span class="fc" id="L202">			return meta;</span>
		}
<span class="fc" id="L204">		return null;</span>
	}
		
	/**
	 *  validate_add_new use for validate add new data user
	 *	
	 *	@param	oldpassword : current password of user
	 *  @param  newpassword : new password of user
	 *	
	 *  @return Meta
	 *	
	 */
	public static Meta validateChangePassword(String oldpassword, String newpassword) {
		
		//List message contain error message validate
<span class="fc" id="L219">		List&lt;Message&gt; listMessage = new ArrayList&lt;Message&gt;();</span>
<span class="fc" id="L220">		Boolean isValid = true;</span>
		
<span class="fc" id="L222">		isValid = true;</span>
		//check null empty or white space if string
<span class="fc" id="L224">		isValid = ValidatorUtils.isNotNullNotEmptyNotWhiteSpace(oldpassword);</span>
<span class="fc bfc" id="L225" title="All 2 branches covered.">		if(!isValid){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L227">			listMessage.add(new Message(Constraints.CODE_2002));</span>
		}
		
<span class="fc" id="L230">		isValid = true;</span>
		//check null empty or white space if string
<span class="fc" id="L232">		isValid = ValidatorUtils.isNotNullNotEmptyNotWhiteSpace(newpassword);</span>
<span class="fc bfc" id="L233" title="All 2 branches covered.">		if(!isValid){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L235">			listMessage.add(new Message(Constraints.CODE_2013));</span>
		}
<span class="fc bfc" id="L237" title="All 2 branches covered.">		if(isValid){</span>
			//check valid length of string
<span class="fc" id="L239">			isValid = ValidatorUtils.isValidLength(newpassword, Constraints.MIN_PASSWORD, 0);</span>
<span class="fc bfc" id="L240" title="All 2 branches covered.">			if(!isValid){</span>
				//check if have error, add message error to listmessage
<span class="fc" id="L242">				listMessage.add(new Message(Constraints.CODE_2012));</span>
			}
		}
		
<span class="fc bfc" id="L246" title="All 2 branches covered.">		if(!listMessage.isEmpty() ){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L248">			Meta meta = new Meta(Constraints.CODE_2000, listMessage);</span>
<span class="fc" id="L249">			return meta;</span>
		}
<span class="fc" id="L251">		return null;</span>
	}
	
	/**
	 *  validate_login use for login
	 *	
	 *	@param	username : username of user
	 *  @param  password : password of user	
	 *
	 *  @return Meta
	 *	
	 */
	public static Meta validateLogin(String username, String password){
		
		//List message contain error message validate
<span class="fc" id="L266">		List&lt;Message&gt; listMessage = new ArrayList&lt;Message&gt;();</span>
<span class="fc" id="L267">		Boolean isValid = true;</span>
		//check null empty or white space if string
<span class="fc" id="L269">		isValid = ValidatorUtils.isNotNullNotEmptyNotWhiteSpace(username);</span>
<span class="fc bfc" id="L270" title="All 2 branches covered.">		if(!isValid){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L272">			listMessage.add(new Message(Constraints.CODE_2001));</span>
		}
		//check null empty or white space if string
<span class="fc" id="L275">		isValid = ValidatorUtils.isNotNullNotEmptyNotWhiteSpace(password);</span>
<span class="fc bfc" id="L276" title="All 2 branches covered.">		if(!isValid){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L278">			listMessage.add(new Message(Constraints.CODE_2002));</span>
		}

<span class="fc bfc" id="L281" title="All 2 branches covered.">		if(!listMessage.isEmpty() ){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L283">			Meta meta = new Meta(Constraints.CODE_2000, listMessage);</span>
<span class="fc" id="L284">			return meta;</span>
		}
<span class="fc" id="L286">		return null;</span>
	}
	
	
	/**
	 *  validate_find_user_infor use for validate data name from client
	 *	
	 *	@param	name : username, firstname or lastname of user
	 *	
	 *  @return Meta
	 *	
	 */
	public static Meta validateFindUserByName(String name){
		
		//List message contain error message validate
<span class="fc" id="L301">		List&lt;Message&gt; listMessage = new ArrayList&lt;Message&gt;();</span>
		
<span class="fc" id="L303">		Boolean isValid = true;</span>
		//check null empty or white space if string
<span class="fc" id="L305">		isValid = ValidatorUtils.isNotNullNotEmptyNotWhiteSpace(name);</span>
<span class="fc bfc" id="L306" title="All 2 branches covered.">		if(!isValid){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L308">			listMessage.add(new Message(Constraints.CODE_2014));</span>
		}
		

<span class="fc bfc" id="L312" title="All 2 branches covered.">		if(!listMessage.isEmpty() ){</span>
			//check if have error, add message error to listmessage
<span class="fc" id="L314">			Meta meta = new Meta(Constraints.CODE_2000, listMessage);</span>
<span class="fc" id="L315">			return meta;</span>
		}
<span class="fc" id="L317">		return null;</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.2.201409121644</span></div></body></html>